<!doctype html>
<html lang="en-GB">
<meta charset="utf-8">
<title> Browser R0VM Verifier</title>

<script type="module">
  import init, { verify_proof } from "./pkg/verifier.js";

  async function main() {
    // load WASM module
    await init();

    // creates the proof (receipt) and image ID arrays
    const proof = new Uint8Array(await fetch("data/receipt.bin").then(r => r.arrayBuffer()));
    const imageId   = new Uint8Array(await fetch("data/image_id.bin").then(r => r.arrayBuffer()));

    // verify proof
    try {
      verify_proof(proof, imageId);
      console.log("✅ proof verified");
    } catch (e) {
      console.error("❌ verification failed:", e);
    }
  }

  main();
</script>

<h1>Browser R0VM Proof Verifier</h1>
<p>Open the dev-tools console for output.</p>
</html>
